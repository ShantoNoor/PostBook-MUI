import{r as s,u as p,j as e,T as b,D as g,B as h,S as j}from"./index-DWleQVpl.js";import{T as f,b as l,B as v,S as y,a as S}from"./axios-B6f2TWmt.js";const w=()=>{const[o,i]=s.useState(""),[n,r]=s.useState(""),[d,a]=s.useState(!1),[c,u]=s.useState(""),x=p(),m=async()=>{u("Adding new post..."),a(!0),(await S.post("/posts",{title:n,body:o,userId:101})).status===201&&(u("Post added successfully!"),a(!0),setTimeout(()=>{r(""),i(""),x("/")},1e3))};return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:"Create New Post"}),e.jsx(b,{variant:"h2",component:"h2",children:"Create A New Post"}),e.jsx(g,{sx:{mb:4,mt:1}}),e.jsx(h,{component:"form",onSubmit:t=>{t.preventDefault(),m()},sx:{display:"flex",flexDirection:"column",mb:3},children:e.jsxs(j,{direction:"column",spacing:4,children:[e.jsx(l,{id:"outlined-basic",label:"Write your post title",variant:"outlined",required:!0,sx:{mb:1},value:n,onChange:t=>{r(t.target.value)}}),e.jsx(l,{id:"outlined-basic",label:"Write your post body",variant:"outlined",required:!0,sx:{mb:1},value:o,multiline:!0,rows:5,onChange:t=>{i(t.target.value)}}),e.jsx(v,{type:"submit",children:"Add Post"})]})}),e.jsx(y,{open:d,autoHideDuration:5e3,onClose:()=>a(!1),message:c})]})};export{w as default};
